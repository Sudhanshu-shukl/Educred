const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-4dSMX-rY.js","assets/index-Ch0Y1xiN.css"])))=>i.map(i=>d[i]);
import{h as l,am as A,a5 as E,cm as I,G as r,B as v,cY as P}from"./index-4dSMX-rY.js";import{I as T,c as C,D as y}from"./QueryParams-fe3080d5.browser.esm-DrkYkpMu.js";async function m(e,n,t,a,d){try{const _=(await l(async()=>{const{default:i}=await import("./IERC165-bKJSsN7u.js");return{default:i}},[])).default,c=new A(t,_,e),[p,w]=await Promise.all([c.supportsInterface(T),c.supportsInterface(C)]);if(p){const i=(await l(async()=>{const{default:u}=await import("./index-4dSMX-rY.js").then(R=>R.is);return{default:u}},__vite__mapDeps([0,1]))).default,s=new A(t,i,e);if(await s.isApprovedForAll(d,n))return!0;let o;try{o=await s.getApproved(a)}catch{}return(o==null?void 0:o.toLowerCase())===n.toLowerCase()}else if(w){const i=(await l(async()=>{const{default:f}=await import("./index-4dSMX-rY.js").then(o=>o.iu);return{default:f}},__vite__mapDeps([0,1]))).default;return await new A(t,i,e).isApprovedForAll(d,n)}else return console.error("Contract does not implement ERC 1155 or ERC 721."),!1}catch(_){return console.error("Failed to check if token is approved",_),!1}}async function L(e,n,t,a,d){const _=(await l(async()=>{const{default:i}=await import("./IERC165-bKJSsN7u.js");return{default:i}},[])).default,c=new E(e.getSignerOrProvider(),t,_,e.options,e.storage),[p,w]=await Promise.all([c.read("supportsInterface",[T]),c.read("supportsInterface",[C])]);if(p){const i=(await l(async()=>{const{default:o}=await import("./index-4dSMX-rY.js").then(u=>u.is);return{default:o}},__vite__mapDeps([0,1]))).default,s=new E(e.getSignerOrProvider(),t,i,e.options,e.storage);await s.read("isApprovedForAll",[d,n])||(await s.read("getApproved",[a])).toLowerCase()===n.toLowerCase()||await s.sendTransaction("setApprovalForAll",[n,!0])}else if(w){const i=(await l(async()=>{const{default:o}=await import("./index-4dSMX-rY.js").then(u=>u.iu);return{default:o}},__vite__mapDeps([0,1]))).default,s=new E(e.getSignerOrProvider(),t,i,e.options,e.storage);await s.read("isApprovedForAll",[d,n])||await s.sendTransaction("setApprovalForAll",[n,!0])}else throw Error("Contract must implement ERC 1155 or ERC 721.")}function b(e){switch(r(e.assetContractAddress!==void 0&&e.assetContractAddress!==null),r(e.buyoutPricePerToken!==void 0&&e.buyoutPricePerToken!==null),r(e.listingDurationInSeconds!==void 0&&e.listingDurationInSeconds!==null),r(e.startTimestamp!==void 0&&e.startTimestamp!==null),r(e.tokenId!==void 0&&e.tokenId!==null),r(e.quantity!==void 0&&e.quantity!==null),e.type){case"NewAuctionListing":r(e.reservePricePerToken!==void 0&&e.reservePricePerToken!==null)}}async function D(e,n,t){return{quantity:t.quantityDesired,pricePerToken:t.pricePerToken,currencyContractAddress:t.currency,buyerAddress:t.offeror,quantityDesired:t.quantityWanted,currencyValue:await I(e,t.currency,t.quantityWanted.mul(t.pricePerToken)),listingId:n}}function k(e,n,t){return t=v.from(t),e=v.from(e),n=v.from(n),e.eq(v.from(0))?!1:n.sub(e).mul(P).div(e).gte(t)}async function O(e,n,t){const a=[];for(;n-e>y;)a.push(t(e,e+y-1)),e+=y;return a.push(t(e,n-1)),await Promise.all(a)}export{k as a,O as g,L as h,m as i,D as m,b as v};
